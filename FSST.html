<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FFST - Four Square Step Test </title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family: sans-serif; margin: 10px; font-size: 16px; max-width: 600px; }
    label { display: block; margin: 10px 0 5px; }
    select {
      width: 100%;
      padding: 6px;
      font-size: 16px;
      margin-bottom: 10px;
    }
    button { padding: 10px 15px; font-size: 16px; margin-top: 10px; }
    #result { font-weight: bold; margin-top: 20px; }
    .nav-buttons { margin-top: 30px; }
    .nav-buttons a {
      display: inline-block;
      margin-right: 10px;
      padding: 10px 15px;
      background: #eee;
      border-radius: 8px;
      text-decoration: none;
      color: #000;
    }
    .nav-buttons a:hover { background: #ddd; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h1>Four Square Step Test (FSST)/Modified FFST </h1>
  <p>Test dynmaischen Gleichgewichts/Schrittsichereit. Gute Reliabilit√§t. Keine Normwerte und Cut-off Werte nur auf Basis sehr kleiner Stichproben!.</p>
  <p>Urspr√ºnglich mit Kreuz aus 2 St√∂cken durchgef√ºhrt. Die heute √ºbliche, modifizierte Version mit Klebeband-Kreuz ist beschrieben und reliabel. Es gibt jedoch keine untersuchten Cut-off-Werte. </p>
  <p>Im Cenplex-Behandlungsplan als <strong>Messung</strong> hinterlegt und dort eintragen.</p>
  <p>Detailliertes Protokoll hier: 
    <a href="FSST_Protokoll.pdf" target="_blank">Four Step Square Test ‚Äì Protokoll</a>
  </p>

  <form>
    <label>Ben√∂tigte Zeit f√ºr schnelleren von zwei Durchg√§ngen (Sekunden):</label>
    <input type="number" id="zeit" step="0.01" min="0">
    <button type="button" onclick="zeigeErgebnis()">‚úÖ Ergebnis anzeigen</button>
    <button type="button" onclick="generatePDF()">üìÑ Als PDF speichern</button>
  </form>

  <div id="result"></div>

  <div class="nav-buttons">
    <a href="bereiche.html">‚¨ÖÔ∏è Zur√ºck zu Bereichs-Assessments</a>
    <a href="index.html">üè† Zur Startseite</a>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    function zeigeErgebnis() {
      const zeit = parseFloat(document.getElementById("zeit").value);
      if (isNaN(zeit)) {
        document.getElementById("result").innerText = "Bitte eine g√ºltige Zeit eingeben.";
        return;
      }

      document.getElementById("result").innerText = 
        `Erfasste Zeit: ${zeit} Sekunden\n\nHinweis (nur f√ºr Version mit St√∂cken):\n‚Äì √Ñltere Erwachsene: >15s = erh√∂htes Sturzrisiko\n‚Äì Schlaganfall: >15s oder Versuch nicht erfolgreich\n‚Äì Parkinson: >9,68s = erh√∂htes Sturzrisiko\n‚Äì Vestibularst√∂rung: >12s = erh√∂htes Sturzrisiko\n‚Äì Amputation: >24s = erh√∂htes Sturzrisiko`;
    }

    async function generatePDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      let y = 10;

      doc.setFontSize(16);
      doc.text("Four Square Step Test ‚Äì Auswertung", 10, y);
      y += 10;

      const text = document.getElementById("result").innerText.split("\n");
      doc.setFontSize(12);
      text.forEach(line => {
        doc.text(line, 10, y);
        y += 8;
      });

      window.open(doc.output('bloburl'), '_blank');
    }
  </script>
</body>
</html>
