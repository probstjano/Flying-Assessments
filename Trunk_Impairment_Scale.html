<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trunk Impairment Scale (TIS)</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; max-width: 800px; }
    .item-block { margin-bottom: 1.5rem; }
    .hidden { display: none; }
    label { display: block; margin-bottom: 5px; font-weight: bold; }
    select { width: 100%; padding: 8px; font-size: 16px; }
    button { padding: 10px 20px; font-size: 16px; margin-top: 20px; }
    #result { margin-top: 2rem; font-weight: bold; white-space: pre-line; }
  </style>
</head>
<body>
  <h1>Trunk Impairment Scale (TIS)</h1>
  <form id="tisForm">
    <div class="item-block" id="item1-block">
      <label>1. Patient h√§lt Ausgangsposition ohne Unterst√ºtzung f√ºr 10 Sekunden</label>
      <select id="item1" onchange="handleItem1(this.value)">
        <option value="">Bitte w√§hlen</option>
        <option value="2">Ja (2 Punkte)</option>
        <option value="0">Nein (0 Punkte)</option>
      </select>
    </div>

    <div class="item-block hidden" id="item2-block">
      <label>2. Therapeut kreuzt nicht-betroffenes Bein √ºber das hemiplegische Bein</label>
      <select id="item2">
        <option value="">Bitte w√§hlen</option>
        <option value="0">0 ‚Äì F√§llt oder kann Position nicht 10 Sek halten ohne Armunterst√ºtzung</option>
        <option value="2">2 ‚Äì H√§lt Position f√ºr 10 Sekunden</option>
      </select>
    </div>

    <div class="item-block hidden" id="item3-block">
      <label>3. Patient kreuzt selbst nicht-betroffenes Bein √ºber das hemiplegische Bein</label>
      <select id="item3">
        <option value="">Bitte w√§hlen</option>
        <option value="0">0 ‚Äì F√§llt</option>
        <option value="1">1 ‚Äì Kann ohne Armhilfe nicht kreuzen</option>
        <option value="2">2 ‚Äì Kreuzt, aber mit Rumpfverschiebung >10cm oder Handhilfe</option>
        <option value="3">3 ‚Äì Kreuzt ohne Rumpfverschiebung oder Hilfe</option>
      </select>
    </div>

    <button type="button" onclick="calculateScore()">‚úÖ Gesamtpunktzahl berechnen</button>
  </form>

  <div id="result"></div>

  <div class="nav-buttons">
    <a href="standard.html">‚¨ÖÔ∏è Zur√ºck zu Standard-Assessments</a>
    <a href="index.html">üè† Zur Startseite</a>
  </div>

  <script>
    function handleItem1(value) {
      const block2 = document.getElementById('item2-block');
      const block3 = document.getElementById('item3-block');
      const result = document.getElementById('result');

      if (value === "2") {
        block2.classList.remove('hidden');
        block3.classList.remove('hidden');
        result.innerHTML = '';
      } else if (value === "0") {
        block2.classList.add('hidden');
        block3.classList.add('hidden');
        result.innerHTML = "Test wird abgebrochen. Gesamtpunktzahl: 0 (Item 1 negativ)";
      } else {
        block2.classList.add('hidden');
        block3.classList.add('hidden');
        result.innerHTML = '';
      }
    }

    function calculateScore() {
      const val1 = parseInt(document.getElementById("item1").value);
      if (val1 === 0) return;  // Test wurde bereits abgebrochen

      const val2 = parseInt(document.getElementById("item2").value || 0);
      const val3 = parseInt(document.getElementById("item3").value || 0);

      const staticBalance = (isNaN(val1) ? 0 : val1) + val2 + val3;

      document.getElementById("result").innerHTML =
        `üßæ Statische Sitzbalance: ${staticBalance} von maximal 5 Punkten.\n\n` +
        `üîÅ Weitere Items folgen (dynamische Balance, Koordination ‚Äì noch nicht eingebaut)`;
    }
  </script>
</body>
</html>
