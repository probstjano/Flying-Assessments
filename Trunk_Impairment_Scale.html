<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Trunk Impairment Scale (TIS)</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: 2rem; font-size: 16px; }
    .question-block { margin-bottom: 1.5rem; }
    select { width: 100%; padding: 8px; font-size: 16px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px 15px; font-size: 16px; }
    #result { margin-top: 2rem; font-weight: bold; white-space: pre-line; }
    .nav-buttons { margin-top: 2rem; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h1>Trunk Impairment Scale (TIS)</h1>
  <form id="tisForm">
    <div class="question-block">
      <label for="item1">Statische Sitzbalance ‚Äì Item 1:<br>Patient h√§lt die Startposition ohne Unterst√ºtzung f√ºr 10 Sekunden</label>
      <select id="item1" onchange="handleItem1()">
        <option value="">Antwort ausw√§hlen</option>
        <option value="0">‚Ä¢ Nein (0 Punkte)</option>
        <option value="2">‚Ä¢ Ja (2 Punkte)</option>
      </select>
    </div>

    <div id="staticRest" class="hidden">
      <div class="question-block">
        <label for="item2">Item 2: Therapeut √ºberkreuzt das nicht-paretische Bein √ºber das hemiplegische</label>
        <select id="item2">
          <option value="">Antwort ausw√§hlen</option>
          <option value="0">‚Ä¢ F√§llt oder kann Position nicht 10s halten (0)</option>
          <option value="2">‚Ä¢ H√§lt Position 10s (2)</option>
        </select>
      </div>

      <div class="question-block">
        <label for="item3">Item 3: Patient √ºberkreuzt selbst das nicht-paretische Bein √ºber das hemiplegische</label>
        <select id="item3">
          <option value="">Antwort ausw√§hlen</option>
          <option value="0">‚Ä¢ F√§llt (0)</option>
          <option value="1">‚Ä¢ Kann nicht ohne Armhilfe √ºberkreuzen (1)</option>
          <option value="2">‚Ä¢ √úberkreuzt mit Rumpfverlagerung &gt;10‚ÄØcm oder Handhilfe (2)</option>
          <option value="3">‚Ä¢ √úberkreuzt ohne Verlagerung/Hilfe (3)</option>
        </select>
      </div>
    </div>

    <button type="button" onclick="calculateTIS()">‚úÖ Score berechnen</button>
    <div id="result"></div>
  </form>

  <div class="nav-buttons">
    <a href="standard.html">‚¨ÖÔ∏è Zur√ºck zu Standard-Assessments</a>
    <a href="index.html">üè† Zur Startseite</a>
  </div>

  <script>
    function handleItem1() {
      const val = document.getElementById('item1').value;
      const rest = document.getElementById('staticRest');
      if (val === "2") {
        rest.classList.remove("hidden");
      } else {
        rest.classList.add("hidden");
        document.getElementById("result").innerText = "Test abgebrochen nach Item 1 ‚Äì Score: 0 Punkte";
      }
    }

    function calculateTIS() {
      const item1 = parseInt(document.getElementById("item1").value);
      if (isNaN(item1)) {
        alert("Bitte Item 1 beantworten.");
        return;
      }

      if (item1 === 0) {
        document.getElementById("result").innerText = "Test abgebrochen nach Item 1 ‚Äì Score: 0 Punkte";
        return;
      }

      const item2 = parseInt(document.getElementById("item2").value);
      const item3 = parseInt(document.getElementById("item3").value);

      if (isNaN(item2) || isNaN(item3)) {
        alert("Bitte alle angezeigten Fragen beantworten.");
        return;
      }

      const total = item1 + item2 + item3;
      document.getElementById("result").innerText = `Teilscore ‚Äì Statische Sitzbalance: ${total} von 7 Punkten`;
    }
  </script>
</body>
</html>
