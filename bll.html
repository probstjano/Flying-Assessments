<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Berg Balance Skala (BBS)</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; font-size: 16px; max-width: 1000px; }
    h1 { margin-bottom: 0.5rem; }
    .question-block { margin-bottom: 1.5rem; }
    .question { font-weight: bold; margin-bottom: 0.5rem; }
    select { width: 100%; padding: 8px; font-size: 16px; }
    button { margin-top: 20px; padding: 10px 15px; font-size: 16px; }
    #result { margin-top: 2rem; font-weight: bold; white-space: pre-line; }
  </style>
</head>
<body>
  <h1>Berg Balance Skala (BBS)</h1>
  <p>Einer der am breitesten Untersuchten Assessments f√ºr das Gleichgewicht.</p>
  <p> Auch in einer verk√ºrzten Version m√∂glich. Diese ist schneller, ben√∂tigt weniger Material ist aber weniger gut untersucht und bietet keine cut-off Werte </p>
  <p> Im Cenplex Behandlungsplan als <strong> Messung </strong> hinterlegt. Hier durchf√ºhren und Summenscore √ºbertragen </p>

  Ausf√ºhrliches Protokoll hier: <a href="BBS_Protokoll.pdf" target="_blank">BBS Protokoll (PDF)</a>
  <form id="bbsForm">
    <div id="questions"></div>
    <button type="button" onclick="calculateBBS()">‚úÖ Score berechnen</button>
    <button type="button" onclick="generatePDF()">üìÑ PDF erstellen</button>
  </form>
  <div id="result"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    const questions = [
      {
        text: "1. Vom Sitzen zum Stehen",
        options: [
          "4 kann aufstehen ohne die H√§nde einzusetzen und sich selbstst√§ndig stabilisieren",
          "3 kann selbstst√§ndig mit Einsatz der H√§nde aufstehen",
          "2 kann nach einigen Versuchen mit Einsatz der H√§nde aufstehen",
          "1 braucht minimale Hilfe zum Aufstehen oder zum Stabilisieren",
          "0 braucht m√§ssige bis maximale Hilfe um aufzustehen"
        ]
      },
      {
        text: "2. Stehen ohne Unterst√ºtzung",
        options: [
          "4 kann zwei Minuten sicher stehen",
          "3 kann zwei Minuten unter Supervision stehen",
          "2 kann 30 Sek. ohne Unterst√ºtzung stehen",
          "1 braucht einige Versuche, um 30 Sekunden ohne Unterst√ºtzung zu stehen",
          "0 kann nicht ohne Unterst√ºtzung 30 Sekunden stehen"
        ]
      },
      {
        text: "3. Sitzen ohne R√ºckenlehne, aber mit beiden F√º√üen auf dem Boden oder auf einer Fu√übank",
        options: [
          "4 kann sicher und stabil zwei Minuten sitzen",
          "3 kann zwei Minuten unter Supervision sitzen",
          "2 kann 30 Sekunden sitzen",
          "1 kann 10 Sekunden sitzen",
          "0 kann nicht ohne Unterst√ºtzung 10 Sekunden sitzen"
        ]
      },
      {
        text: "4. Vom Stehen zum Sitzen",
        options: [
          "4 setzt sich sicher mit minimalem Einsatz der H√§nde hin",
          "3 kontrolliert das Hinsetzen mit den H√§nden",
          "2 ber√ºhrt mit R√ºckseite der Beine den Stuhl, um das Hinsetzen zu kontrollieren",
          "1 setzt sich selbst√§ndig aber unkontrolliert hin",
          "0 braucht Hilfe um sich hinzusetzen"
        ]
      },
      {
        text: "5. Transfer",
        options: [
          "4 kann den Transfer sicher mit minimalem Einsatz der H√§nde ausf√ºhren",
          "3 kann den Transfer sicher ausf√ºhren, muss aber die H√§nde einsetzen",
          "2 kann den Transfer mit verbaler Anweisung und/oder unter Supervision ausf√ºhren",
          "1 braucht eine Person zur Hilfestellung",
          "0 braucht zwei Personen zur Hilfestellung oder Supervision um sicher zu sein"
        ]
      },
      {
        text: "6. Stehen mit geschlossenen Augen ohne Unterst√ºtzung",
        options: [
          "4 kann zehn Sekunden sicher stehen",
          "3 kann zehn Sekunden unter Supervision stehen",
          "2 kann drei Sekunden stehen",
          "1 kann nicht die Augen drei Sekunden geschlossen halten, steht aber stabil",
          "0 braucht Hilfe, um nicht zu fallen"
        ]
      },
      {
        text: "7. Stehen mit F√º√üen dicht nebeneinander",
        options: [
          "4 kann selbst√§ndig F√º√üe nebeneinander stellen und 1 Minute sicher stehen",
          "3 kann selbst√§ndig F√º√üe nebeneinander stellen und unter Supervision 1 Minute stehen",
          "2 kann selbst√§ndig F√º√üe nebeneinander stellen und die Position 30 Sekunden halten",
          "1 braucht Hilfe um die Position einzunehmen, kann aber 15 Sekunden mit geschlossenen F√º√üen stehen",
          "0 braucht Hilfe um die Position einzunehmen, kann diese nicht f√ºr 15 Sekunden halten"
        ]
      },
      { text: "8. Nach vorne greifen mit ausgestrecktem Arm im Stand", options: [
        "4 kann mehr als 25 cm ohne zu fallen nach vorne greifen",
        "3 kann mehr als 12 cm nach vorne greifen",
        "2 kann mehr als 5 cm nach vorne greifen",
        "1 kann nur minimal nach vorne greifen (weniger als 5 cm)",
        "0 verliert das Gleichgewicht und ben√∂tigt Hilfe, um nicht zu fallen"
      ]},
      { text: "9. Gegenstand vom Boden aufheben im Stand", options: [
        "4 kann sicher einen Gegenstand vom Boden aufheben",
        "3 kann den Gegenstand aufheben, ben√∂tigt jedoch √úberwachung",
        "2 kann den Gegenstand mit Hilfe oder √Ñnderung der K√∂rperposition aufheben",
        "1 kann den Gegenstand nur mit Unterst√ºtzung aufheben",
        "0 ist nicht in der Lage, den Gegenstand aufzuheben und verliert das Gleichgewicht"
      ]},
      { text: "10. Stehen, sich umsehen √ºber rechte und linke Schulter", options: [
        "4 kann sich sicher nach beiden Seiten umsehen",
        "3 kann sich nach beiden Seiten unter Supervision umsehen",
        "2 kann sich nur zu einer Seite sicher umsehen",
        "1 zeigt Angst oder Unsicherheit beim Umdrehen",
        "0 kann sich nicht sicher umsehen und verliert das Gleichgewicht"
      ]},
      { text: "11. Sich um 360¬∞ drehen", options: [
        "4 kann sicher eine komplette Drehung in weniger als 4 Sekunden ausf√ºhren",
        "3 kann sicher eine komplette Drehung in mehr als 4 Sekunden ausf√ºhren",
        "2 ben√∂tigt mehrere Schritte um die Drehung zu vollenden",
        "1 ben√∂tigt Unterst√ºtzung bei der Drehung",
        "0 ist nicht in der Lage sich sicher zu drehen"
      ]},
      { text: "12. Einen Schritt vorw√§rts machen (rechte und linke F√º√üe abwechselnd) und stehen bleiben", options: [
        "4 kann einen Schritt sicher und kontrolliert ausf√ºhren",
        "3 kann einen Schritt unter Supervision ausf√ºhren",
        "2 zeigt Unsicherheit oder leichte Unterst√ºtzung erforderlich",
        "1 ben√∂tigt Unterst√ºtzung beim Schritt",
        "0 kann keinen Schritt ausf√ºhren, ohne das Gleichgewicht zu verlieren"
      ]},
      { text: "13. Stehen mit einem Fu√ü vor dem anderen (Tandemstellung)", options: [
        "4 kann 30 Sekunden sicher stehen",
        "3 kann 30 Sekunden unter Supervision stehen",
        "2 kann weniger als 30 Sekunden stehen",
        "1 ben√∂tigt Hilfe, um die Position einzunehmen oder zu halten",
        "0 kann die Position nicht einnehmen oder halten"
      ]},
      { text: "14. Auf einem Bein stehen", options: [
        "4 kann 10 Sekunden sicher stehen",
        "3 kann 10 Sekunden unter Supervision stehen",
        "2 kann 5 Sekunden stehen",
        "1 kann weniger als 3 Sekunden stehen",
        "0 kann die Position nicht einnehmen oder halten"
      ]}
    ];

    const container = document.getElementById("questions");
    questions.forEach((q, i) => {
      const block = document.createElement("div");
      block.className = "question-block";
      const options = q.options.map((text, idx) => `<option value="${4 - idx}">${text}</option>`).join("");
      block.innerHTML = `
        <div class="question">${q.text}</div>
        <select name="q${i}" required>
          <option value="" disabled selected>Antwort ausw√§hlen</option>
          ${options}
        </select>
      `;
      container.appendChild(block);
    });

    function calculateBBS() {
      let total = 0;
      for (let i = 0; i < questions.length; i++) {
        const val = parseInt(document.querySelector(`select[name='q${i}']`)?.value);
        if (isNaN(val)) return alert("Bitte alle Fragen beantworten.");
        total += val;
      }
      document.getElementById("result").innerText = `BBS Gesamtscore: ${total} / 56`;
    }

    async function generatePDF() {
      const { jsPDF } = window.jspdf;
      let doc = new jsPDF();
      let y = 10;

      doc.setFontSize(16);
      doc.text("Berg Balance Skala ‚Äì Auswertung", 10, y);
      y += 10;

      let total = 0;
      questions.forEach((q, i) => {
        const select = document.querySelector(`select[name='q${i}']`);
        const val = parseInt(select?.value);
        const label = select?.options[select.selectedIndex]?.text;
        if (!isNaN(val)) total += val;
        doc.setFontSize(12);
        doc.text(`${q.text}`, 10, y);
        y += 6;
        doc.text(`Antwort: ${label}`, 10, y);
        y += 10;
        if (y > 270) {
          doc.addPage();
          y = 10;
        }
      });

      doc.setFontSize(14);
      doc.text(`Gesamtscore: ${total} / 56`, 10, y);
      window.open(doc.output('bloburl'), '_blank');
    }
  </script>
</body>
</html>

